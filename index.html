<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">

    <title>send button</title>
</head>

<body>

    <div class="container">
        <button class="button">
            <i class="icon-send material-icons">send</i>
            <i class="icon-check material-icons">check</i>
            <span class="button-text">Send Msg</span>
        </button>
    </div>

    <script>
        const sendButton = document.querySelector('.button');

        sendButton.addEventListener('click', handleClick);


        function handleClick() {
            const buttonText = this.querySelector('.button-text');
            const sendIcon = this.querySelector('.icon-send');

            sendIcon.style.transform = `scale(0.5) translateX(-200px)`;
            buttonText.textContent = 'Sending';
            buttonText.classList.add('loading');
            buttonText.style.transform = `translateX(-10px)`;

            //fake loading state
            setTimeout(() => {
                buttonText.style.transform = `translateY(80px)`;
                buttonText.classList.remove('loading');


                sendIcon.style.transition = `1000ms ease 230ms`;
                sendIcon.style.transform = `scale(2) translateX(120px)`;


                sendIcon.addEventListener("webkitTransitionEnd", showSentText);


            }, 2000);
        }

        function showSentText() {
            const buttonText = document.querySelector('.button-text');
            const iconCheck = document.querySelector('.icon-check');

            iconCheck.style.opacity = `1`;

            buttonText.classList.add('notransition');
            buttonText.style.transform = `translateY(-80px)`;
            buttonText.textContent = 'Sent';
            buttonText.offsetHeight;
            buttonText.classList.remove('notransition');


            iconCheck.style.transform = `translateY(0px)`;
            buttonText.style.transform = `translateY(0px)`;

            sendButton.removeEventListener('click', handleClick);
        }
    </script>
</body>

</html>